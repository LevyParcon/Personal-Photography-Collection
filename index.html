<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:;">
<title>Photography</title>
<style>
  * {
    box-sizing: border-box;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', system-ui, sans-serif;
    margin: 0;
    padding: 0;
    padding-top: 80px;
    background-color: #f0f0f0;
    transition: background-color 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  
  .gallery {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px;
  }
  
  .gallery img {
    width: 300px;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out;
    cursor: pointer;
  }
  
  .gallery img:hover {
    transform: scale(1.1);
  }
  
  .header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: rgba(248, 248, 252, 0.8);
    backdrop-filter: blur(25px) saturate(200%);
    -webkit-backdrop-filter: blur(25px) saturate(200%);
    border-bottom: 0.5px solid rgba(0, 0, 0, 0.04);
    z-index: 1000;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
  }
  
  .dark-theme .header {
    background: rgba(28, 28, 30, 0.85);
    border-bottom: 0.5px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
  }

  .header-title {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', system-ui, sans-serif;
    font-size: 22px;
    font-weight: 700;
    color: #000;
    letter-spacing: -0.3px;
    user-select: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'kern' 1;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .header-title:hover {
    transform: translateY(-0.5px);
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .dark-theme .header-title {
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }
  
  .dark-theme .header-title:hover {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  }
  
  .toggle-container {
    display: flex;
    align-items: center;
    gap: 15px;
  }
  
  .theme-toggle {
    position: relative;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #ffd700, #ff6b35);
    border: none;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 3px 12px rgba(255, 215, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
    overflow: hidden;
  }
  
  .theme-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 16px rgba(255, 215, 0, 0.4);
  }
  
  .theme-toggle.dark {
    background: linear-gradient(135deg, #1e1e2e, #2d3748);
    box-shadow: 0 3px 12px rgba(45, 55, 72, 0.3);
  }
  
  .theme-toggle.dark:hover {
    box-shadow: 0 5px 16px rgba(45, 55, 72, 0.4);
  }
  
  .theme-icon {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
  }
  
  .theme-toggle.dark .theme-icon {
    transform: rotate(180deg);
  }
  
  .dark-theme {
    background-color: #1b1b1b;
    color: #000000;
  }
  
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    backdrop-filter: blur(8px);
    transition: opacity 0.3s ease;
    opacity: 0;
  }
  
  .overlay.show {
    opacity: 1;
    display: flex;
  }
  
  .overlay img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease-in-out;
  }
  
  .gallery img.clicked {
    transform: scale(1.1);
    cursor: zoom-out;
  }

  /* Admin Styles */
  .admin-login {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 3000;
  }

  .login-form {
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    width: 300px;
    transition: all 0.3s ease;
  }

  .dark-theme .login-form {
    background: #1c1c1e;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
  }

  .login-form h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #333;
    transition: color 0.3s ease;
  }

  .dark-theme .login-form h2 {
    color: #fff;
  }

  .login-form input {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    transition: all 0.3s ease;
  }

  .dark-theme .login-form input {
    background: #2c2c2e;
    border: 1px solid #48484a;
    color: #fff;
  }

  .dark-theme .login-form input::placeholder {
    color: #8e8e93;
  }

  .login-form button {
    width: 100%;
    padding: 12px;
    background-color: #003d7a;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .login-form button:hover {
    background-color: #001f3d;
  }

  .admin-panel {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f5f5f5;
    display: none;
    z-index: 3000;
    overflow-y: auto;
  }

  .admin-header {
    background-color: #343a40;
    color: white;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .admin-content {
    padding: 20px;
  }

  .upload-section {
    background: white;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .drag-drop-area {
    border: 3px dashed #007bff;
    border-radius: 10px;
    padding: 40px;
    text-align: center;
    margin: 20px 0;
    background-color: #f8f9fa;
    cursor: pointer;
    transition: all 0.3s;
  }

  .drag-drop-area:hover {
    background-color: #e9ecef;
  }

  .drag-drop-area.dragover {
    background-color: #007bff;
    color: white;
  }

  .photo-preview {
    max-width: 200px;
    max-height: 200px;
    margin: 10px 0;
    border-radius: 5px;
  }

  .manage-section {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .photo-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #eee;
    justify-content: space-between;
  }

  .photo-item img {
    width: 80px;
    height: 60px;
    object-fit: cover;
    border-radius: 5px;
    margin-right: 15px;
  }

  .photo-controls {
    display: flex;
    gap: 10px;
  }

  .btn {
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s;
  }

  .btn-success {
    background-color: #28a745;
    color: white;
  }

  .btn-warning {
    background-color: #ffc107;
    color: #212529;
  }

  .btn-danger {
    background-color: #dc3545;
    color: white;
  }

  .btn-secondary {
    background-color: #6c757d;
    color: white;
  }

  .admin-button {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #003d7a, #001f3d);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 3px 12px rgba(0, 61, 122, 0.3);
    z-index: 1001;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .admin-button:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 16px rgba(0, 61, 122, 0.4);
  }

  .error-message {
    color: #dc3545;
    font-size: 14px;
    margin-top: 5px;
  }

  .success-message {
    color: #28a745;
    font-size: 14px;
    margin-top: 5px;
  }

  .hidden {
    display: none !important;
  }

  .photo-hidden {
    opacity: 0.5;
  }
</style>
</head>
<body>
  <!-- Foggy Header -->
  <div class="header">
    <div class="header-title">lvpcn</div>
    <div class="toggle-container">
      <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode">
        <span class="theme-icon">‚òÄÔ∏è</span>
      </button>
      <button class="admin-button" onclick="showLogin()" title="Admin Panel">‚öô</button>
    </div>
  </div>

  <div class="gallery" id="gallery">
    <!-- Photos will be loaded here -->
  </div>

  <!-- Overlay for enlarged image -->
  <div class="overlay" onclick="closeImage()">
    <img id="overlay-img" src="" alt="Enlarged Image">
  </div>

  <!-- Admin Button -->
  <!-- Moved to toggle container -->

  <!-- Login Modal -->
  <div class="admin-login" id="adminLogin">
    <div class="login-form">
      <h2>Admin Login</h2>
      <input type="text" id="username" placeholder="Username" autocomplete="username">
      <input type="password" id="password" placeholder="Password" autocomplete="current-password">
      <button onclick="login()">Login</button>
      <div id="loginError" class="error-message"></div>
      <button type="button" onclick="hideLogin()" class="btn btn-secondary" style="margin-top: 10px;">Cancel</button>
    </div>
  </div>

  <!-- Admin Panel -->
  <div class="admin-panel" id="adminPanel">
    <div class="admin-header">
      <h2>Photography Admin Panel</h2>
      <button onclick="logout()" class="btn btn-danger">Logout</button>
    </div>
    
    <div class="admin-content">
      <!-- Upload Section -->
      <div class="upload-section">
        <h3>Upload New Photo</h3>
        <div class="drag-drop-area" id="dropArea" onclick="document.getElementById('fileInput').click()">
          <p>Drag & Drop your photo here or click to select</p>
          <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFileSelect(event)">
        </div>
        <div id="photoPreview" style="display: none;">
          <img id="previewImg" class="photo-preview" src="" alt="Preview">
          <br>
          <button onclick="uploadPhoto()" class="btn btn-success">Add Photo</button>
          <button onclick="cancelUpload()" class="btn btn-secondary">Cancel</button>
        </div>
        <div id="uploadMessage"></div>
      </div>

      <!-- Manage Photos Section -->
      <div class="manage-section">
        <h3>Manage Photos</h3>
        <div id="photosList">
          <!-- Photo management items will be loaded here -->
        </div>
      </div>
    </div>
  </div>

<script>
  // Security: Rate limiting for login attempts
  let loginAttempts = 0;
  let lastLoginAttempt = 0;
  const MAX_LOGIN_ATTEMPTS = 5;
  const LOGIN_COOLDOWN = 300000; // 5 minutes

  // Photo storage (in production, this would be a database)
  let photos = [
    { id: 1, src: "Modified pics/EZJO9687.JPG", alt: "Placeholder Image 1", visible: true },
    { id: 2, src: "Modified pics/XMOW6092.JPG", alt: "Image 2", visible: true },
    { id: 3, src: "Modified pics/IMG_E2190.jpg", alt: "Image 3", visible: true },
    { id: 4, src: "Modified pics/IMG_E2191.jpg", alt: "Image 4", visible: true },
    { id: 5, src: "Modified pics/IMG_E2192.jpg", alt: "Image 5", visible: true },
    { id: 6, src: "Modified pics/IMG_E2193.jpg", alt: "Image 6", visible: true },
    { id: 7, src: "Modified pics/IMG_E2194.jpg", alt: "Image 7", visible: true },
    { id: 8, src: "Modified pics/IMG_E2195.jpg", alt: "Image 8", visible: true },
    { id: 9, src: "Modified pics/IMG_E2196.jpg", alt: "Image 9", visible: true },
    { id: 10, src: "Modified pics/IMG_E2197.jpg", alt: "Image 10", visible: true },
    { id: 11, src: "Modified pics/IMG_E2198.jpg", alt: "Image 11", visible: true },
    { id: 12, src: "Modified pics/IMG_E2199.jpg", alt: "Image 12", visible: true },
    { id: 13, src: "Modified pics/IMG_E1852.jpg", alt: "Image 13", visible: true },
    { id: 14, src: "Modified pics/IMG_E1920.jpg", alt: "Image 14", visible: true },
    { id: 15, src: "Modified pics/IMG_E1927.jpg", alt: "Image 15", visible: true }
  ];

  let nextPhotoId = 16;
  let isLoggedIn = false;

  // Security: Input sanitization
  function sanitizeInput(input) {
    const div = document.createElement('div');
    div.textContent = input;
    return div.innerHTML;
  }

  // Security: CSRF token simulation
  function generateCSRFToken() {
    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
  }

  let csrfToken = generateCSRFToken();

  // Initialize gallery on page load
  document.addEventListener('DOMContentLoaded', function() {
    loadGallery();
    setupDragAndDrop();
    
    // Security: Clear sensitive data on page unload
    window.addEventListener('beforeunload', function() {
      if (isLoggedIn) {
        logout();
      }
    });
  });

  function loadGallery() {
    const gallery = document.getElementById('gallery');
    gallery.innerHTML = '';
    
    photos.filter(photo => photo.visible).forEach(photo => {
      const img = document.createElement('img');
      img.src = photo.src;
      img.alt = photo.alt;
      img.onclick = () => openImage(img);
      gallery.appendChild(img);
    });
  }

  function loadPhotoManagement() {
    const photosList = document.getElementById('photosList');
    photosList.innerHTML = '';
    
    photos.forEach(photo => {
      const photoItem = document.createElement('div');
      photoItem.className = 'photo-item';
      
      const img = document.createElement('img');
      img.src = photo.src;
      img.alt = photo.alt;
      
      const photoInfo = document.createElement('div');
      photoInfo.innerHTML = `
        <strong>ID: ${photo.id}</strong><br>
        Status: ${photo.visible ? 'Visible' : 'Hidden'}
      `;
      
      const controls = document.createElement('div');
      controls.className = 'photo-controls';
      
      const toggleBtn = document.createElement('button');
      toggleBtn.className = `btn ${photo.visible ? 'btn-warning' : 'btn-success'}`;
      toggleBtn.textContent = photo.visible ? 'Hide' : 'Show';
      toggleBtn.onclick = () => togglePhotoVisibility(photo.id);
      
      const deleteBtn = document.createElement('button');
      deleteBtn.className = 'btn btn-danger';
      deleteBtn.textContent = 'Delete';
      deleteBtn.onclick = () => deletePhoto(photo.id);
      
      controls.appendChild(toggleBtn);
      controls.appendChild(deleteBtn);
      
      const leftSide = document.createElement('div');
      leftSide.style.display = 'flex';
      leftSide.style.alignItems = 'center';
      leftSide.appendChild(img);
      leftSide.appendChild(photoInfo);
      
      photoItem.appendChild(leftSide);
      photoItem.appendChild(controls);
      
      if (!photo.visible) {
        photoItem.classList.add('photo-hidden');
      }
      
      photosList.appendChild(photoItem);
    });
  }

  let isDarkMode = false;

  function toggleTheme() {
    const body = document.querySelector('body');
    const themeToggle = document.querySelector('.theme-toggle');
    const themeIcon = document.querySelector('.theme-icon');
    
    isDarkMode = !isDarkMode;
    
    if (isDarkMode) {
      body.classList.add('dark-theme');
      themeToggle.classList.add('dark');
      themeIcon.textContent = 'üåô';
    } else {
      body.classList.remove('dark-theme');
      themeToggle.classList.remove('dark');
      themeIcon.textContent = '‚òÄÔ∏è';
    }
  }

  function openImage(img) {
    const overlay = document.querySelector('.overlay');
    const overlayImg = document.getElementById('overlay-img');
    overlayImg.src = img.src;
    overlay.classList.add('show');
    document.body.style.overflow = 'hidden';
  }

  function closeImage() {
    const overlay = document.querySelector('.overlay');
    overlay.classList.remove('show');
    document.body.style.overflow = '';
  }

  // Admin Functions
  function showLogin() {
    // Security: Check rate limiting
    const now = Date.now();
    if (loginAttempts >= MAX_LOGIN_ATTEMPTS && now - lastLoginAttempt < LOGIN_COOLDOWN) {
      const remainingTime = Math.ceil((LOGIN_COOLDOWN - (now - lastLoginAttempt)) / 60000);
      document.getElementById('loginError').textContent = `Too many login attempts. Try again in ${remainingTime} minutes.`;
      return;
    }
    
    document.getElementById('adminLogin').style.display = 'flex';
    document.getElementById('username').focus();
  }

  function hideLogin() {
    document.getElementById('adminLogin').style.display = 'none';
    document.getElementById('username').value = '';
    document.getElementById('password').value = '';
    document.getElementById('loginError').textContent = '';
  }

  function login() {
    const username = sanitizeInput(document.getElementById('username').value.trim());
    const password = document.getElementById('password').value;
    const now = Date.now();
    
    // Security: Rate limiting check
    if (loginAttempts >= MAX_LOGIN_ATTEMPTS && now - lastLoginAttempt < LOGIN_COOLDOWN) {
      const remainingTime = Math.ceil((LOGIN_COOLDOWN - (now - lastLoginAttempt)) / 60000);
      document.getElementById('loginError').textContent = `Too many login attempts. Try again in ${remainingTime} minutes.`;
      return;
    }
    
    if (username === 'lvpcn' && password === '3261') {
      isLoggedIn = true;
      loginAttempts = 0; // Reset on successful login
      csrfToken = generateCSRFToken(); // Generate new CSRF token
      hideLogin();
      showAdminPanel();
      loadPhotoManagement();
      
      // Security: Clear password field
      document.getElementById('password').value = '';
    } else {
      loginAttempts++;
      lastLoginAttempt = now;
      document.getElementById('loginError').textContent = 'Invalid username or password';
      
      // Security: Clear form after failed attempt
      document.getElementById('password').value = '';
      
      if (loginAttempts >= MAX_LOGIN_ATTEMPTS) {
        document.getElementById('loginError').textContent = 'Too many failed attempts. Access temporarily blocked.';
      }
    }
  }

  function logout() {
    isLoggedIn = false;
    csrfToken = generateCSRFToken(); // Generate new token
    document.getElementById('adminPanel').style.display = 'none';
    cancelUpload(); // Clear any upload in progress
  }

  function showAdminPanel() {
    if (!isLoggedIn) return;
    document.getElementById('adminPanel').style.display = 'block';
  }

  // Drag and Drop functionality
  function setupDragAndDrop() {
    const dropArea = document.getElementById('dropArea');
    
    dropArea.addEventListener('dragenter', preventDefaults, false);
    dropArea.addEventListener('dragover', preventDefaults, false);
    dropArea.addEventListener('dragleave', preventDefaults, false);
    dropArea.addEventListener('drop', handleDrop, false);
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    dropArea.addEventListener('dragenter', highlight, false);
    dropArea.addEventListener('dragover', highlight, false);
    dropArea.addEventListener('dragleave', unhighlight, false);
    dropArea.addEventListener('drop', unhighlight, false);
    
    function highlight() {
      dropArea.classList.add('dragover');
    }
    
    function unhighlight() {
      dropArea.classList.remove('dragover');
    }
    
    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      if (files.length > 0) {
        handleFileSelect({ target: { files: files } });
      }
    }
  }

  function handleFileSelect(event) {
    if (!isLoggedIn) return;
    
    const file = event.target.files[0];
    if (!file) return;
    
    // Security: File validation
    if (!file.type.startsWith('image/')) {
      document.getElementById('uploadMessage').innerHTML = '<div class="error-message">Please select a valid image file.</div>';
      return;
    }
    
    // Security: File size limit (5MB)
    const maxSize = 5 * 1024 * 1024;
    if (file.size > maxSize) {
      document.getElementById('uploadMessage').innerHTML = '<div class="error-message">File size must be less than 5MB.</div>';
      return;
    }
    
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('previewImg').src = e.target.result;
      document.getElementById('previewImg').dataset.fileData = e.target.result;
      document.getElementById('previewImg').dataset.fileName = sanitizeInput(file.name);
      document.getElementById('photoPreview').style.display = 'block';
      document.getElementById('uploadMessage').innerHTML = '';
    };
    reader.readAsDataURL(file);
  }

  function uploadPhoto() {
    if (!isLoggedIn) return;
    
    const previewImg = document.getElementById('previewImg');
    const fileData = previewImg.dataset.fileData;
    const fileName = previewImg.dataset.fileName;
    
    if (!fileData) {
      document.getElementById('uploadMessage').innerHTML = '<div class="error-message">No file selected.</div>';
      return;
    }
    
    // Create new photo object
    const newPhoto = {
      id: nextPhotoId++,
      src: fileData,
      alt: `Uploaded Image ${fileName}`,
      visible: true
    };
    
    photos.push(newPhoto);
    loadGallery();
    loadPhotoManagement();
    cancelUpload();
    
    document.getElementById('uploadMessage').innerHTML = '<div class="success-message">Photo uploaded successfully!</div>';
    setTimeout(() => {
      document.getElementById('uploadMessage').innerHTML = '';
    }, 3000);
  }

  function cancelUpload() {
    document.getElementById('photoPreview').style.display = 'none';
    document.getElementById('previewImg').src = '';
    document.getElementById('previewImg').dataset.fileData = '';
    document.getElementById('previewImg').dataset.fileName = '';
    document.getElementById('fileInput').value = '';
    document.getElementById('uploadMessage').innerHTML = '';
  }

  function togglePhotoVisibility(photoId) {
    if (!isLoggedIn) return;
    
    const photo = photos.find(p => p.id === photoId);
    if (photo) {
      photo.visible = !photo.visible;
      loadGallery(); // Refresh gallery with updated visibility
      loadPhotoManagement(); // Refresh admin panel
    }
  }

  function deletePhoto(photoId) {
    if (!isLoggedIn) return;
    
    if (confirm('Are you sure you want to delete this photo? This action cannot be undone.')) {
      photos = photos.filter(p => p.id !== photoId);
      loadGallery();
      loadPhotoManagement();
    }
  }

  // Security: Keyboard event handlers
  document.addEventListener('keydown', function(event) {
    // Close overlay with Escape key
    if (event.key === 'Escape') {
      closeImage();
    }
    
    // Login on Enter key in login form
    if (event.key === 'Enter' && document.getElementById('adminLogin').style.display === 'flex') {
      login();
    }
  });

  // Security: Prevent right-click context menu on images (basic protection)
  document.addEventListener('contextmenu', function(e) {
    if (e.target.tagName === 'IMG') {
      e.preventDefault();
    }
  });

  // Security: Clear clipboard on page focus loss
  window.addEventListener('blur', function() {
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText('').catch(() => {});
    }
  });
</script>

</body>
</html>